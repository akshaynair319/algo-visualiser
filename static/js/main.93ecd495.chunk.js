(this["webpackJsonpgraph-visualiser"]=this["webpackJsonpgraph-visualiser"]||[]).push([[0],[,,,,,,,,function(e,t,n){},,,,,,function(e,t,n){},function(e,t,n){},,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(1),r=n.n(c),a=n(9),o=n.n(a),i=(n(8),n(3)),s=(n(14),n(15),n(2)),u=n(6),l="UNDO",f="DELETE",d="REFRESH",j="TOGGLE_LOCK",O="MAKENODE",b="MAKEEDGE",v="CHANGEALGO",h="VISUALISE",p="WINDOW_RESIZE",g=function(e,t,n){for(var c=[e],r=JSON.parse(JSON.stringify(t)),a=2;0!==c.length;){for(var o=c.length,i=0;i<o;){var s=c[0];if(c.shift(),r[s]>1)i++;else{r[s]=a;for(var u=0;u<n.length;u++)n[u][0]===s&&1===r[n[u][1]]&&c.push(n[u][1]),n[u][1]===s&&1===r[n[u][0]]&&c.push(n[u][0]);i++}}a++}return r},x=function(e,t,n){for(var c=[e],r=JSON.parse(JSON.stringify(t)),a=2;0!==c.length;){var o=c[c.length-1];if(c.pop(),!(r[o]>1)){r[o]=a;for(var i=0;i<n.length;i++)n[i][0]===o&&1===r[n[i][1]]&&c.push(n[i][1]),n[i][1]===o&&1===r[n[i][0]]&&c.push(n[i][0]);a++}}return r},m=function(e,t,n){var c=[[e,0]],r=JSON.parse(JSON.stringify(t));r[e]=0;for(var a=function(){for(var e=c[0][1],t=0,a=1;a<c.length;a++)c[a][1]<e&&(e=c[a][1],t=a);var o=c[t][0];if(c=c.filter((function(e){return e[0]!==o})),r[o]<e)return"continue";for(var i=0;i<n.length;i++)n[i][0]===o&&r[o]+n[i][2]<r[n[i][1]]&&(r[n[i][1]]=r[o]+n[i][2],c.push([n[i][1],r[o]+n[i][2]])),n[i][1]===o&&r[o]+n[i][2]<r[n[i][0]]&&(r[n[i][0]]=r[o]+n[i][2],c.push([n[i][0],r[o]+n[i][2]]))};0!==c.length;)a();return r},w=function(){var e=window.innerWidth,t=Math.floor(window.screen.width/32)-1,n=Math.floor(window.screen.height/32)-4,c=new Array(n*t+1).join("0").split("").map(parseFloat);return{size:32,windowSize:e,cols:t,rows:n,vertices:c,currentVertex:null,lock:!1,edge:{node1:-1,node2:-1,weight:-1},adjList:[],last_actions:[],currentAlgo:"",startNode:-1,nodesDist:c.map((function(e){return 1e4}))}},y=function(e,t,n){for(var c=Math.floor(e/n),r=Math.floor(e%n),a=[[-1,0],[-1,1],[0,1],[1,1],[1,0],[1,-1],[0,-1],[-1,-1]],o=[],i=0;i<a.length;i++){var s=c+a[i][0],u=r+a[i][1];s>=0&&u>=0&&s<t&&u<n&&o.push(s*n+u)}return o},N=function(e,t){if(t.type===l){if(e.lock)return e;if(0===e.last_actions.length)return e;var n=e.last_actions.length-1;if("edge"===e.last_actions[n])return Object(s.a)(Object(s.a)({},e),{},{adjList:e.adjList.filter((function(t,n){return n!==e.adjList.length-1})),last_actions:e.last_actions.filter((function(e,t){return t!==n}))});var c=e.last_actions[n],r=y(c,e.rows,e.cols);return Object(s.a)(Object(s.a)({},e),{},{vertices:e.vertices.map((function(e,t){return t===c?0:r.includes(t)?e+1:e})),last_actions:e.last_actions.filter((function(e,t){return t!==n}))})}if(t.type===f)return w();if(t.type===d)return Object(s.a)(Object(s.a)({},e),{},{edge:{node1:-1,node2:-1,weight:-1},CurrentVertex:null,currentAlgo:"",vertices:e.vertices.map((function(e){return e>=1?1:0})),nodesDist:e.vertices.map((function(e){return 1e4})),lock:!1});if(t.type===j)return Object(s.a)(Object(s.a)({},e),{},{lock:!e.lock});if(t.type===O){if(e.lock)return e;var a=t.payload;if(""!==e.currentAlgo)return e;if(a===e.edge.node1)return Object(s.a)(Object(s.a)({},e),{},{currentVertex:null,edge:Object(s.a)(Object(s.a)({},e.edge),{},{node1:-1}),startNode:a});if(1===e.vertices[a])return Object(s.a)(Object(s.a)({},e),{},{currentVertex:a});if(e.vertices[a]<0)return e;var o=y(a,e.rows,e.cols);return Object(s.a)(Object(s.a)({},e),{},{currentVertex:null,startNode:a,edge:{node1:-1,node2:-1,weight:-1},vertices:e.vertices.map((function(e,t){return a===t?1:o.includes(t)?e-1:e})),last_actions:[].concat(Object(u.a)(e.last_actions),[a])})}if(t.type===b){if(""!==e.currentAlgo)return e;if(-1!==e.edge.node1){var i=Math.floor(10*Math.random()+1);return Object(s.a)(Object(s.a)({},e),{},{adjList:[].concat(Object(u.a)(e.adjList),[[e.edge.node1,e.currentVertex,i]]),edge:{node1:-1,node2:-1,weight:-1},currentVertex:null,last_actions:[].concat(Object(u.a)(e.last_actions),["edge"])})}return Object(s.a)(Object(s.a)({},e),{},{edge:Object(s.a)(Object(s.a)({},e.edge),{},{node1:e.currentVertex})})}if(t.type===v)return Object(s.a)(Object(s.a)({},e),{},{currentAlgo:t.payload,lock:!0});if(t.type===h){if("bfs"===t.payload)return Object(s.a)(Object(s.a)({},e),{},{vertices:g(e.startNode,e.vertices,e.adjList)});if("dfs"===t.payload)return Object(s.a)(Object(s.a)({},e),{},{vertices:x(e.startNode,e.vertices,e.adjList)});if("dijktras"===t.payload)return Object(s.a)(Object(s.a)({},e),{},{nodesDist:m(e.startNode,e.nodesDist,e.adjList)})}if(t.type===p)return Object(s.a)(Object(s.a)({},e),{},{windowSize:window.innerWidth});throw new Error("invalid call")},k=n(0),E=r.a.createContext(),S=w(),A=function(e){var t=e.children,n=Object(c.useReducer)(N,S),r=Object(i.a)(n,2),a=r[0],o=r[1],u=function(){o({type:p})};Object(c.useEffect)((function(){return window.addEventListener("resize",u),function(){window.removeEventListener("resize",u)}}));var g=function(){o({type:d})};return Object(k.jsx)(E.Provider,{value:Object(s.a)(Object(s.a)({},a),{},{undo:function(){o({type:l})},refresh:g,clearAll:function(){o({type:f})},toggleLock:function(){o({type:j})},makeNode:function(e){o({type:O,payload:e})},updatePoints:function(e,t){o({type:b,payload:{width:e,height:t}})},changeAlgo:function(e){g(),o({type:v,payload:e})},startVisualisation:function(){""!==a.currentAlgo&&("bfs"===a.currentAlgo&&o({type:h,payload:"bfs"}),"dfs"===a.currentAlgo&&o({type:h,payload:"dfs"}),"dijktras"===a.currentAlgo&&o({type:h,payload:"dijktras"}))}}),children:t})},L=function(){return Object(c.useContext)(E)};var C=function(){var e=L().startVisualisation;return Object(k.jsx)("div",{className:"tooltip-container start","data-tooltip":"start",children:Object(k.jsx)("i",{className:"options fas fa-play fa-2x",onClick:e})})};var _=function(){var e=L().undo;return Object(k.jsx)("div",{className:"tooltip-container undo","data-tooltip":"undo",children:Object(k.jsx)("i",{className:"options fas fa-redo fa-2x",onClick:e})})};var D=function(){var e=L().refresh;return Object(k.jsx)("div",{className:"tooltip-container refresh","data-tooltip":"refresh",children:Object(k.jsx)("i",{className:"options fas fa-sync fa-2x",onClick:e})})};var M=function(){var e=L().clearAll;return Object(k.jsx)("div",{className:"tooltip-container delete","data-tooltip":"delete",children:Object(k.jsx)("i",{className:"options fas fa-trash fa-2x",onClick:e})})};var V=function(){var e=L(),t=e.lock,n=e.toggleLock;return Object(k.jsx)("div",{className:"tooltip-container lock-unlock","data-tooltip":"".concat(t?"lock":"unlock"),children:Object(k.jsx)("i",{className:"options-lock fas fa-lock".concat(t?"":"-open"," fa-2x"),onClick:n})})};n(17);var z=function(){return Object(k.jsxs)("div",{className:"tools",children:[Object(k.jsx)(C,{}),Object(k.jsx)(_,{}),Object(k.jsx)(D,{}),Object(k.jsx)(M,{}),Object(k.jsx)(V,{})]})};var R=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],r=t[1];return Object(k.jsxs)("div",{className:"optionDropDown",children:[Object(k.jsx)("i",{className:"fas fa-chevron-circle-down fa-2x ",onClick:function(){return r(!n)}}),n&&Object(k.jsx)(z,{})]})},I=["bfs","dfs","dijktras","mst","cut-edge","cut-edge"];n(18);var B=function(e){var t=e.x,n=e.y,c=e.height,r=e.width,a=e.show,o=L().changeAlgo,i={top:"".concat(n+c,"px"),left:"".concat(t,"px"),width:"".concat(r,"px")};return Object(k.jsx)("div",{className:"dropdown ".concat(a?"dropdown-show":""),style:i,children:I.map((function(e,t){return Object(k.jsx)("li",{onClick:function(){return o(e)},children:e},t)}))})};n(19);var J=function(){var e=L().currentAlgo,t=Object(c.useState)(!1),n=Object(i.a)(t,2),r=n[0],a=n[1],o=Object(c.useState)(-1),s=Object(i.a)(o,2),u=s[0],l=s[1],f=Object(c.useState)(-1),d=Object(i.a)(f,2),j=d[0],O=d[1],b=Object(c.useState)(-1),v=Object(i.a)(b,2),h=v[0],p=v[1],g=Object(c.useState)(-1),x=Object(i.a)(g,2),m=x[0],w=x[1],y=Object(c.useRef)(null),N=L().windowSize,E=Object(c.useState)(N),S=Object(i.a)(E,2),A=(S[0],S[1]);Object(c.useEffect)((function(){A(N)}),[N]),Object(c.useEffect)((function(){a(!1)}),[e]);var C=function(){var e=y.current;e&&(l(e.getBoundingClientRect().x),O(e.getBoundingClientRect().y),p(e.getBoundingClientRect().height),w(e.getBoundingClientRect().width))};return Object(c.useEffect)(C,[]),Object(c.useEffect)((function(){return window.addEventListener("resize",C),function(){window.removeEventListener("resize",C)}})),Object(k.jsxs)("div",{className:"selectAlgo",ref:y,onClick:function(){return a(!r)},children:[r&&Object(k.jsx)(B,{x:u,y:j,height:h,width:m,show:r}),Object(k.jsxs)("li",{className:"algo-btn",children:[e||"Select ALgo",Object(k.jsx)("i",{className:"fas fa-caret-down fa-2x"})]})]})};var P=function(){var e=Object(c.useState)(localStorage.getItem("theme")||"light-theme"),t=Object(i.a)(e,2),n=t[0],r=t[1],a=L().windowSize,o=Object(c.useState)(a),s=Object(i.a)(o,2),u=s[0],l=s[1];return Object(c.useEffect)((function(){l(a)}),[a]),Object(c.useEffect)((function(){document.documentElement.className=n}),[n]),Object(k.jsxs)("div",{className:"navbar",children:[Object(k.jsx)("div",{className:"themeToggle",children:Object(k.jsx)("i",{className:"fas fa-adjust fa-2x",onClick:function(){var e="light-theme";n===e&&(e="dark-theme"),localStorage.setItem("theme",e),r(e)}})}),Object(k.jsx)("div",{className:"title",children:"algo-visualiser "}),Object(k.jsxs)("ul",{className:"navbar-items",children:[Object(k.jsx)(J,{}),u>=950&&Object(k.jsx)(z,{})]}),Object(k.jsx)(R,{})]})};n(20);var G=function(e){var t=e.edge,n=t[0],c=t[1],r=t[2],a=document.getElementById("#".concat(n)),o=a.offsetLeft,i=a.offsetTop,s=document.getElementById("#".concat(c)),u=s.offsetLeft,l=s.offsetTop,f=L(),d=f.size,j=f.currentAlgo;if(-1===o)return Object(k.jsx)(k.Fragment,{});var O=180*Math.atan((l-i)/(u-o))/Math.PI,b=Math.sqrt((u-o)*(u-o)+(l-i)*(l-i)),v=(o+u)/2,h=(i+l)/2,p={width:"".concat(b,"px"),top:"".concat(h+d/2,"px"),left:"".concat(v-b/2+d/2,"px"),transform:"rotate(".concat(O,"deg)")};return Object(k.jsx)("div",{className:"edge",style:p,children:"dijktras"===j&&r})};var T=function(){var e=L(),t=e.adjList,n=e.windowSize,r=Object(c.useState)(n),a=Object(i.a)(r,2),o=(a[0],a[1]);return Object(c.useEffect)((function(){o(n)}),[n]),Object(k.jsx)("div",{children:t.map((function(e,t){return Object(k.jsx)(G,{edge:e},t)}))})};n(21);var W=function(){var e=L(),t=e.vertices,n=e.makeNode,r=e.currentVertex,a=e.updatePoints,o=e.nodesDist,i=e.currentAlgo,s=e.cols,u=e.rows,l=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(null!==l.current&&null!==r){var e=l.current.getBoundingClientRect();a(e.x,e.y)}}),[r]),Object(c.useEffect)((function(){var e=document.querySelector(":root");e.style.setProperty("--cols",s),e.style.setProperty("--rows",u)}),[s,u]),Object(k.jsxs)("div",{className:"grid-container",children:[t.map((function(e,t){var c="".concat(e>=1?e>1||1e4!==o[t]?"visited":"vertex":"node"," ").concat(r===t&&"active"),a={transition:" background 0s linear ".concat(e>1?"".concat(e-1,"s"):"0s",", color 0s")};return Object(k.jsxs)("div",{id:"#".concat(t),className:c,style:a,onClick:function(){return n(t)},ref:r===t?l:null,children:["dijktras"===i&&1e4!==o[t]?o[t]:""," ",e>1?e-1:""]},t)})),Object(k.jsx)(T,{})]})};n(22);var F=function(){return Object(k.jsxs)("div",{className:"appContainer",children:[Object(k.jsx)(P,{}),Object(k.jsx)(W,{})]})};o.a.render(Object(k.jsx)(r.a.StrictMode,{children:Object(k.jsx)(A,{children:Object(k.jsx)(F,{})})}),document.getElementById("root"))}],[[23,1,2]]]);
//# sourceMappingURL=main.93ecd495.chunk.js.map