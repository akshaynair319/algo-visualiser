(this["webpackJsonpalgo-visualiser"]=this["webpackJsonpalgo-visualiser"]||[]).push([[0],[,,,,,,,,function(e,t,n){},,,,,,,function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){},function(e,t,n){"use strict";n.r(t);var c=n(2),a=n.n(c),r=n(9),o=n.n(r),i=(n(8),n(3)),s=["bfs","dfs","dijktras","mst","cut-edge","cut-edge"],l=n(1),u=n(5),d="UNDO",j="DELETE",f="REFRESH",O="TOGGLE_LOCK",b="MAKENODE",g="MAKEEDGE",p="CHANGEALGO",h="VISUALISE",x=function(e,t,n){for(var c=[e],a=JSON.parse(JSON.stringify(t)),r=2;0!==c.length;){for(var o=c.length,i=0;i<o;){var s=c[0];if(c.shift(),a[s]>1)i++;else{a[s]=r;for(var l=0;l<n.length;l++)n[l][0]===s&&1===a[n[l][1]]&&c.push(n[l][1]),n[l][1]===s&&1===a[n[l][0]]&&c.push(n[l][0]);i++}}r++}return a},v=function(e,t,n){for(var c=[e],a=JSON.parse(JSON.stringify(t)),r=2;0!==c.length;){var o=c[c.length-1];if(c.pop(),!(a[o]>1)){a[o]=r;for(var i=0;i<n.length;i++)n[i][0]===o&&1===a[n[i][1]]&&c.push(n[i][1]),n[i][1]===o&&1===a[n[i][0]]&&c.push(n[i][0]);r++}}return a},y=function(e,t,n){var c=[[e,0]],a=JSON.parse(JSON.stringify(t));a[e]=0;for(var r=function(){for(var e=c[0][1],t=0,r=1;r<c.length;r++)c[r][1]<e&&(e=c[r][1],t=r);var o=c[t][0];if(c=c.filter((function(e){return e[0]!==o})),a[o]<e)return"continue";for(var i=0;i<n.length;i++)n[i][0]===o&&a[o]+n[i][2]<a[n[i][1]]&&(a[n[i][1]]=a[o]+n[i][2],c.push([n[i][1],a[o]+n[i][2]])),n[i][1]===o&&a[o]+n[i][2]<a[n[i][0]]&&(a[n[i][0]]=a[o]+n[i][2],c.push([n[i][0],a[o]+n[i][2]]))};0!==c.length;)r();return a},m=function(){var e=new Array(681).join("0").split("").map(parseFloat);return{vertices:e,currentVertex:null,lock:!1,edge:{x1:-1,x2:-1,y1:-1,y2:-1,node1:-1,node2:-1},edges:[],adjList:[],last_actions:[],currentAlgo:"",startNode:-1,nodesDist:e.map((function(e){return 1e4})),size:32}},N=function(e,t){if(t.type===d){if(e.lock)return e;if(0===e.last_actions.length)return e;var n=e.last_actions.length-1;if("edge"===e.last_actions[n])return Object(l.a)(Object(l.a)({},e),{},{edges:e.edges.filter((function(t,n){return n!==e.edges.length-1})),adjList:e.adjList.filter((function(t,n){return n!==e.adjList.length-1})),last_actions:e.last_actions.filter((function(e,t){return t!==n}))});var c=e.last_actions[n];return Object(l.a)(Object(l.a)({},e),{},{vertices:e.vertices.map((function(e,t){return t===c?0:e})),last_actions:e.last_actions.filter((function(e,t){return t!==n}))})}if(t.type===j)return m();if(t.type===f)return Object(l.a)(Object(l.a)({},e),{},{edge:{x1:-1,x2:-1,y1:-1,y2:-1,node1:-1,node2:-1,weight:-1},CurrentVertex:null,currentAlgo:"",vertices:e.vertices.map((function(e){return e>=1?1:0})),nodesDist:e.vertices.map((function(e){return 1e4})),lock:!1});if(t.type===O)return Object(l.a)(Object(l.a)({},e),{},{lock:!e.lock});if(t.type===b){if(e.lock)return e;var a=t.payload;return""!==e.currentAlgo?e:a===e.edge.node1?Object(l.a)(Object(l.a)({},e),{},{currentVertex:null,edge:{x1:-1,x2:-1,y1:-1,y2:-1,node1:-1,node2:-1},startNode:a}):1===e.vertices[a]?Object(l.a)(Object(l.a)({},e),{},{currentVertex:a}):Object(l.a)(Object(l.a)({},e),{},{currentVertex:null,startNode:a,edge:{x1:-1,x2:-1,y1:-1,y2:-1,node1:-1,node2:-1,weight:-1},vertices:e.vertices.map((function(e,t){return a===t?1:e})),last_actions:[].concat(Object(u.a)(e.last_actions),[a])})}if(t.type===g){if(""!==e.currentAlgo)return e;if(-1!==e.edge.x1){var r=Math.floor(10*Math.random()+1);return Object(l.a)(Object(l.a)({},e),{},{adjList:[].concat(Object(u.a)(e.adjList),[[e.edge.node1,e.currentVertex,r]]),edges:[].concat(Object(u.a)(e.edges),[Object(l.a)(Object(l.a)({},e.edge),{},{x2:t.payload.width,y2:t.payload.height,node2:e.currentVertex,weight:r})]),edge:{x1:-1,x2:-1,y1:-1,y2:-1,node1:-1,node2:-1,weight:-1},currentVertex:null,last_actions:[].concat(Object(u.a)(e.last_actions),["edge"])})}return Object(l.a)(Object(l.a)({},e),{},{edge:Object(l.a)(Object(l.a)({},e.edge),{},{x1:t.payload.width,y1:t.payload.height,node1:e.currentVertex})})}if(t.type===p)return Object(l.a)(Object(l.a)({},e),{},{currentAlgo:t.payload,lock:!0});if(t.type===h){if("bfs"===t.payload)return Object(l.a)(Object(l.a)({},e),{},{vertices:x(e.startNode,e.vertices,e.adjList)});if("dfs"===t.payload)return Object(l.a)(Object(l.a)({},e),{},{vertices:v(e.startNode,e.vertices,e.adjList)});if("dijktras"===t.payload)return Object(l.a)(Object(l.a)({},e),{},{nodesDist:y(e.startNode,e.nodesDist,e.adjList)})}throw new Error("invalid call")},k=n(0),A=a.a.createContext(),w=m(),E=function(e){var t=e.children,n=Object(c.useReducer)(N,w),a=Object(i.a)(n,2),r=a[0],o=a[1],s=function(){o({type:f})};return Object(k.jsx)(A.Provider,{value:Object(l.a)(Object(l.a)({},r),{},{undo:function(){o({type:d})},refresh:s,clearAll:function(){o({type:j})},toggleLock:function(){o({type:O})},makeNode:function(e){o({type:b,payload:e})},updatePoints:function(e,t){o({type:g,payload:{width:e,height:t}})},changeAlgo:function(e){s(),o({type:p,payload:e})},startVisualisation:function(){""!==r.currentAlgo&&("bfs"===r.currentAlgo&&o({type:h,payload:"bfs"}),"dfs"===r.currentAlgo&&o({type:h,payload:"dfs"}),"dijktras"===r.currentAlgo&&o({type:h,payload:"dijktras"}))}}),children:t})},C=function(){return Object(c.useContext)(A)};n(15);var L=function(e){var t=e.rect,n=e.show,c=C(),a=c.currentAlgo,r=c.changeAlgo;console.log(t);var o={top:"".concat(t.y+t.height,"px"),left:"".concat(t.x,"px"),width:"".concat(t.width,"px")};return Object(k.jsx)("div",{className:"dropdown ".concat(n?"dropdown-show":""),style:o,children:s.map((function(e,t){return Object(k.jsx)("li",{className:"".concat(""!==a&&e===a?"active-algo":""),onClick:function(){return r(e)},children:e},t)}))})};var S=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1];return Object(k.jsx)("div",{children:Object(k.jsx)("i",{className:"fas fa-chevron-circle-down fa-2x ",onClick:function(){return a(!n)}})})};n(16);var _=function(){var e=C(),t=e.clearAll,n=e.refresh,a=e.startVisualisation,r=e.currentAlgo,o=e.lock,s=e.toggleLock,l=e.undo,u=Object(c.useState)(localStorage.getItem("theme")||"light-theme"),d=Object(i.a)(u,2),j=d[0],f=d[1],O=Object(c.useState)(!1),b=Object(i.a)(O,2),g=b[0],p=b[1],h=Object(c.useRef)(null);return Object(c.useEffect)((function(){document.documentElement.className=j}),[j]),Object(c.useEffect)((function(){p(!1)}),[r]),Object(k.jsxs)("div",{className:"navbar",children:[Object(k.jsx)("div",{className:"themeToggle",children:Object(k.jsx)("i",{className:"fas fa-adjust fa-2x",onClick:function(){var e="light-theme";j===e&&(e="dark-theme"),localStorage.setItem("theme",e),f(e)}})}),Object(k.jsx)("div",{className:"title",children:"algo-visualiser "}),g&&Object(k.jsx)(L,{rect:h.current.getBoundingClientRect(),show:g}),Object(k.jsxs)("ul",{className:"navbar-items",children:[Object(k.jsxs)("li",{onClick:function(){return p(!g)},ref:h,className:"selectAlgo ".concat(""!==r?"active-algo":""),children:[r||"Select ALgo",Object(k.jsx)("i",{className:"fas fa-caret-down fa-2x"})]}),Object(k.jsx)("div",{className:"tooltip-container start","data-tooltip":"start",children:Object(k.jsx)("i",{className:"options fas fa-play fa-2x",onClick:a})}),Object(k.jsx)("div",{className:"tooltip-container undo","data-tooltip":"undo",children:Object(k.jsx)("i",{className:"options fas fa-redo fa-2x",onClick:l})}),Object(k.jsx)("div",{className:"tooltip-container refresh","data-tooltip":"refresh",children:Object(k.jsx)("i",{className:"options fas fa-sync fa-2x",onClick:n})}),Object(k.jsx)("div",{className:"tooltip-container delete","data-tooltip":"delete",children:Object(k.jsx)("i",{className:"options fas fa-trash fa-2x",onClick:t})}),Object(k.jsx)("div",{className:"tooltip-container lock-unlock","data-tooltip":"".concat(o?"lock":"unlock"),children:Object(k.jsx)("i",{className:"options-lock fas fa-lock".concat(o?"":"-open"," fa-2x"),onClick:s})})]}),Object(k.jsx)(S,{})]})};n(17);var V=function(e){var t=e.edge,n=t.x1,c=t.x2,a=t.y1,r=t.y2,o=t.weight,i=C(),s=i.size,l=i.currentAlgo;if(-1===n)return Object(k.jsx)(k.Fragment,{});var u=180*Math.atan((r-a)/(c-n))/Math.PI,d=Math.sqrt((c-n)*(c-n)+(r-a)*(r-a)),j=(n+c)/2,f=(a+r)/2,O={width:"".concat(d,"px"),top:"".concat(f+s/2,"px"),left:"".concat(j-d/2+s/2,"px"),transform:"rotate(".concat(u,"deg)")};return Object(k.jsx)("div",{className:"edge",style:O,children:"dijktras"===l&&o})};var D=function(){var e=C().edges;return Object(k.jsx)("div",{children:e.map((function(e,t){return Object(k.jsx)(V,{edge:e},t)}))})};n(18);var J=function(){var e=C(),t=e.vertices,n=e.makeNode,a=e.currentVertex,r=e.updatePoints,o=e.nodesDist,i=e.currentAlgo,s=Object(c.useRef)(null);return Object(c.useEffect)((function(){if(null!==s.current&&null!==a){var e=s.current.getBoundingClientRect();r(e.x,e.y)}}),[a]),Object(k.jsxs)("div",{className:"grid-container",children:[t.map((function(e,t){var c="".concat(e>=1?e>1||1e4!==o[t]?"visited":"vertex":"node"," ").concat(a===t&&"active"),r={transition:" background 0s linear ".concat(e>1?"".concat(e-1,"s"):"0s",", color 0s")};return Object(k.jsxs)("div",{className:c,style:r,onClick:function(){return n(t)},ref:a===t?s:null,children:["dijktras"===i&&1e4!==o[t]?o[t]:""," ",e>1?e-1:""]},t)})),Object(k.jsx)(D,{})]})};n(19);var M=function(){return Object(k.jsxs)("div",{className:"appContainer",children:[Object(k.jsx)(_,{}),Object(k.jsx)(J,{})]})};o.a.render(Object(k.jsx)(a.a.StrictMode,{children:Object(k.jsx)(E,{children:Object(k.jsx)(M,{})})}),document.getElementById("root"))}],[[20,1,2]]]);
//# sourceMappingURL=main.5e379aa2.chunk.js.map